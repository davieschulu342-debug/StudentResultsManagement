{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container mt-5">
    <h2 class="mb-4 text-center"><i class="fas fa-edit text-primary"></i> Edit Subject Combination</h2>

    {% if messages %}
        {% for message in messages %}
            <div class="alert 
                {% if message.tags == 'success' %}alert-success
                {% elif message.tags == 'error' %}alert-danger
                {% else %}alert-info{% endif %} alert-dismissible fade show" role="alert">
                {{ message }}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        {% endfor %}
    {% endif %}

    <form method="post" class="p-5 bg-white rounded shadow-lg">
        {% csrf_token %}

        <div class="mb-4">
            <label class="form-label fw-bold">Class</label>
            <select name="student_class" class="form-select form-select-lg border-primary" required>
                <option value="">Select Class</option>
                {% for cls in classes %}
                    <option value="{{ cls.id }}" {% if cls == combination.student_class %}selected{% endif %}>
                        {{ cls.class_name }} {{ cls.numeric_name }} {{ cls.section }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <div class="mb-4">
            <label class="form-label fw-bold">Subject</label>
            <select name="subject" class="form-select form-select-lg border-primary" required>
                <option value="">Select Subject</option>
                {% for sub in subjects %}
                    <option value="{{ sub.id }}" {% if sub == combination.subject %}selected{% endif %}>
                        {{ sub.subject_name }} - {{ sub.subject_code }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <button type="submit" class="btn btn-gradient w-100 btn-lg fw-bold">Update</button>
    </form>
</div>

<style>
.btn-gradient {
    background: linear-gradient(90deg, #007bff, #00c6ff);
    color: #fff;
    border: none;
    transition: transform 0.2s, box-shadow 0.2s;
}
.btn-gradient:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(0,123,255,0.5);
}
select:focus {
    outline: none;
    border-color: #00c6ff !important;
    box-shadow: 0 0 8px rgba(0,198,255,0.3);
}
body { background-color: #f1f5f9; }
</style>
{% endblock %}
